{{ form_start(form, {'attr': {'class': 'space-y-8'}}) }}
    {{ form_errors(form) }}
    {{ form_widget(form._token) }} {# Explicitly render CSRF token #}

    {% for field in form %}
        {% if field.vars.name != '_token' %}
            <div class="form-group">
                {{ form_label(field, null, {'label_attr': {'class': 'block text-lg font-medium text-gray-700 mb-2'}}) }}
                <div class="mt-1">
                    {{ form_widget(field) }}
                </div>

                {# Check if the field has errors and display them #}
                {% if field.vars.errors is defined and field.vars.errors|length > 0 %}
                    <div class="mt-1 text-red-500 text-sm">
                        {{ form_errors(field) }}
                    </div>
                {% endif %}
            </div>
        {% endif %}
    {% endfor %}
{{ form_end(form) }}
